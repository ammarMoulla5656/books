# ๐ ูุฌูุฏ ุงูุฃูุงู - Security Documentation

## ๐ ุงููููุงุช ุงููุชููุฑุฉ

### ๐ ููุจุฏุก ุงูุณุฑูุน
**[QUICK_START.md](./QUICK_START.md)** โก
- ููุฎุต ุณุฑูุน ูููุดุงูู
- ุฎุทุฉ ุงูุนูู ุงููุฎุชุตุฑุฉ
- ุงูุจุฏุก ุงูููุฑู

### ๐ ุงูุฎุทุฉ ุงูุดุงููุฉ
**[SECURITY_FIX_PLAN.md](./SECURITY_FIX_PLAN.md)** โญ **ุงูููู ุงูุฑุฆูุณู**
- ุชูุงุตูู ูู ุซุบุฑุฉ ุฃูููุฉ
- ุฎุทุฉ ุงูุชูููุฐ ุงููุฑุญููุฉ (4 ูุฑุงุญู)
- ุงูุฌุฏูู ุงูุฒููู (29 ุณุงุนุฉ)
- ููุงุฆู ุงูุชุญูู
- ุฎุทุฉ ุงูุงุณุชุฑุฌุงุน

### ๐ฌ Prompts ุฌุงูุฒุฉ
**[CRITICAL-FIXES.md](./CRITICAL-FIXES.md)**
- Prompts ุฌุงูุฒุฉ ูู Claude
- ุฃูุซูุฉ ุงูููุฏ ุงููุทููุจ
- 7 ุฅุตูุงุญุงุช + ุงุฎุชุจุงุฑุงุช

---

## ๐ฏ ููู ุชุจุฏุฃุ

### ูุณุงุฑ ุงููุจุชุฏุฆ (ูู ุชูุฑุฃ ุดูุฆุงู ุจุนุฏ)
```
1. ุงุจุฏุฃ ุจู QUICK_START.md (5 ุฏูุงุฆู)
2. ุงูุฑุฃ SECURITY_FIX_PLAN.md (30 ุฏูููุฉ)
3. ุงุณุชุฎุฏู CRITICAL-FIXES.md ููุชูููุฐ
```

### ูุณุงุฑ ุงูุฎุจูุฑ (ุชุนุฑู ูุง ุชูุนู)
```
1. ุงูุชุญ SECURITY_FIX_PLAN.md
2. ุงุฐูุจ ูููุฑุญูุฉ 1.1
3. ุงุจุฏุฃ ุงูุชูููุฐ
```

---

## ๐ด ุงูุซุบุฑุงุช ุงูุญุฑุฌุฉ (7 ูุดุงูู)

### ุฃููููุฉ ูุตูู ๐ด๐ด๐ด
1. **ูููุฉ ูุฑูุฑ ููุชูุจุฉ ูู ุงูููุฏ** - `Admin@123456`
2. **ูุง ุชูุฌุฏ ูุตุงุฏูุฉ ุนูู ุฑูุงุจุท ุงูุฅุฏุงุฑุฉ** - ุฃู ุดุฎุต ููููู ุงููุตูู
3. **ุงูุฌูุณุงุช ูู ุงูุฐุงูุฑุฉ** - ุชูููุฏ ุนูุฏ ุฅุนุงุฏุฉ ุงูุชุดุบูู

### ุฃููููุฉ ุนุงููุฉ ๐๐
4. **Path traversal** - ูููู ุญุฐู ุฃู ููู
5. **ุงูุชุญูู ุงูุถุนูู ูู ุงููููุงุช** - ูููู ุฑูุน ูููุงุช ุฎุจูุซุฉ

### ุฃููููุฉ ูุชูุณุทุฉ ๐ก๐ก
6. **ุจูุงูุงุช DB ููุดููุฉ** - ูููุฉ ุงููุฑูุฑ ูู Git
7. **ูุง ููุฌุฏ rate limiting** - ูููู ุฅุบุฑุงู ุงูุณูุฑูุฑ

---

## โฑ๏ธ ุงูููุช ุงููุชููุน

| ุงููุฑุญูุฉ | ุงูููุช | ุงูุฃููููุฉ |
|---------|-------|----------|
| ุงููุฑุญูุฉ 1 | 10 ุณุงุนุงุช | ๐ด ููุฑูุฉ |
| ุงููุฑุญูุฉ 2 | 6 ุณุงุนุงุช | ๐ ุนุงุฌูุฉ |
| ุงููุฑุญูุฉ 3 | 6 ุณุงุนุงุช | ๐ก ูููุฉ |
| ุงููุฑุญูุฉ 4 | 7 ุณุงุนุงุช | โ ุชุญูู |
| **ุงููุฌููุน** | **29 ุณุงุนุฉ** | **4 ุฃูุงู** |

---

## ๐ ูููู ุงููููุงุช

```
docs/security/
โโโ README.md                    โ ุฃูุช ููุง
โโโ QUICK_START.md              โ ุงุจุฏุฃ ููุง ููููุฎุต ุงูุณุฑูุน
โโโ SECURITY_FIX_PLAN.md        โ ุงูุฎุทุฉ ุงููุงููุฉ ุงูููุตูุฉ
โโโ CRITICAL-FIXES.md           โ Prompts ูู Claude
```

---

## โ ูุจู ุงูุจุฏุก

### ูุณุฎ ุงุญุชูุงุทูุฉ ุฅุฌุจุงุฑูุฉ
```bash
# ูุงุนุฏุฉ ุงูุจูุงูุงุช
pg_dump islamic_library > backup_$(date +%Y%m%d).sql

# Git tag
git tag -a "before-security-fixes" -m "Before security fixes"

# ููู .env
cp .env .env.backup
```

### ุจูุฆุฉ ุงูุชุทููุฑ
```bash
# ุฅูุดุงุก branch ุฌุฏูุฏ
git checkout -b security-fixes

# ุชุซุจูุช dependencies (ุฅุฐุง ูุฒู)
npm install
```

---

## ๐ ููู ุงููุดุงูู

### ุงููุดููุฉ 1: ูููุฉ ูุฑูุฑ ููุชูุจุฉ
```typescript
// โ ุฎุทุฃ - ูููุฉ ุงููุฑูุฑ ูู ุงูููุฏ
const password = 'Admin@123456';

// โ ุตุญูุญ - ูู ูุชุบูุฑ ุจูุฆุฉ
const password = process.env.ADMIN_INITIAL_PASSWORD;
```

### ุงููุดููุฉ 2: ูุง ุชูุฌุฏ ูุตุงุฏูุฉ
```typescript
// โ ุฎุทุฃ - ุฃู ุดุฎุต ููููู ุงููุตูู
export async function DELETE(req: NextRequest) {
  await deleteEverything();
}

// โ ุตุญูุญ - ูุญุต ุงููุตุงุฏูุฉ
export async function DELETE(req: NextRequest) {
  const session = await getAdminSession();
  if (!session) return NextResponse.json({error: 'Unauthorized'}, {status: 401});
  await deleteEverything();
}
```

### ุงููุดููุฉ 3: ุฌูุณุงุช ูู ุงูุฐุงูุฑุฉ
```typescript
// โ ุฎุทุฃ - Map ูู ุงูุฐุงูุฑุฉ
const sessions = new Map<string, Session>();

// โ ุตุญูุญ - ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
await prisma.adminSession.create({...});
```

---

## ๐ ููุงููุณ ุงููุฌุงุญ

### ุจุนุฏ ุงูุฅุตูุงุญุ ูุฌุจ ุฃู:
- โ ูุง ุชูุฌุฏ ูููุงุช ูุฑูุฑ ูู ุงูููุฏ
- โ ุฌููุน ุฑูุงุจุท `/api/admin/*` ูุญููุฉ
- โ ุงูุฌูุณุงุช ูุญููุธุฉ ูู DB
- โ ูุง ูููู ุญุฐู ูููุงุช ุฎุงุฑุฌ uploads/
- โ ูุญุต magic bytes ูููููุงุช
- โ .env ุบูุฑ ููุฌูุฏ ูู Git
- โ Rate limiting ูุนูู

---

## ๐ ุงููุณุงุนุฏุฉ ูุงูุฏุนู

### ุฅุฐุง ูุงุฌูุช ูุดููุฉ
1. ุฑุงุฌุน ูุณู "ุฎุทุฉ ุงูุงุณุชุฑุฌุงุน" ูู `SECURITY_FIX_PLAN.md`
2. ุชุญูู ูู logs: `pm2 logs` ุฃู `npm run dev`
3. ุงุณุชุฎุฏู `git revert HEAD` ููุฑุฌูุน

### ุฅุฐุง ูุฌุญ ูู ุดูุก
- โ ุดุบูู ุงูุงุฎุชุจุงุฑุงุช ูู ุงููุฑุญูุฉ 4
- โ ุฑุงุฌุน ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ
- โ ุงูุดุฑ ูู ุงูุฅูุชุงุฌ

---

## ๐ ุฑูุงุจุท ูููุฏุฉ

- **OWASP Top 10**: https://owasp.org/www-project-top-ten/
- **Next.js Security**: https://nextjs.org/docs/advanced-features/security-headers
- **Prisma Security**: https://www.prisma.io/docs/concepts/components/prisma-client/security

---

## ๐ ูุนูููุงุช ุฅุถุงููุฉ

### ุงููููุงุช ุงูุชู ุณุชุชุบูุฑ
- `lib/auth.ts`
- `lib/session.ts`
- `prisma/schema.prisma`
- `app/api/admin/**/*.ts` (ุฌููุน ุงูุฑูุงุจุท)
- `middleware.ts` (ุฌุฏูุฏ)
- `.env.example` (ุฌุฏูุฏ)

### Migrations ุงููุทููุจุฉ
```bash
npx prisma migrate dev --name add_admin_sessions
```

---

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

### ูุง ุชูุนู ูุฐุง:
- โ ูุง ุชุชุฎุทู ุฎุทูุงุช ุงูุชุญุถูุฑ
- โ ูุง ุชูุดุฑ ุจุฏูู ุงุฎุชุจุงุฑ
- โ ูุง ุชุญุฐู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ
- โ ูุง ุชุณุชุนุฌู ุงููุฑุญูุฉ 1

### ุงูุนู ูุฐุง:
- โ ุงุชุจุน ุงูุฎุทุฉ ุฎุทูุฉ ุจุฎุทูุฉ
- โ ุงุฎุชุจุฑ ุจุนุฏ ูู ุชุบููุฑ
- โ ูุซู ุฃู ูุดุงูู
- โ ุงุทูุจ ุงููุณุงุนุฏุฉ ุฅุฐุง ูุฒู

---

## ๐ ุงูุฎุทูุฉ ุงูุชุงููุฉ

**ุฌุงูุฒ ููุจุฏุกุ**

1. ุงูุฑุฃ [QUICK_START.md](./QUICK_START.md) ููููุฎุต (5 ุฏูุงุฆู)
2. ุงูุชุญ [SECURITY_FIX_PLAN.md](./SECURITY_FIX_PLAN.md) ููุชูุงุตูู
3. ุงุจุฏุฃ ุจุงููุฑุญูุฉ 1.1

---

**ุชู ุงูุฅูุดุงุก**: 20 ููุงูุฑ 2026
**ุงูุญุงูุฉ**: โณ ุฌุงูุฒ ููุชูููุฐ
**ุงูุฃููููุฉ**: ๐ด๐ด๐ด ุญุฑุฌุฉ ุฌุฏุงู
