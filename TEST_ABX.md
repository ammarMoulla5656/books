# ๐งช ุฏููู ุงุฎุชุจุงุฑ ูุธุงู ABX ุงููุญุณูู

## ๐ ูุงุฆูุฉ ุงูุงุฎุชุจุงุฑ

### โ ุงููุฑุญูุฉ 1: ุงุฎุชุจุงุฑ ุงููุญูู

#### ุงูุฎุทูุฉ 1: ูุญุต ุงููููุงุช ุงููุชููุฑุฉ

```bash
cd "f:\root ammar\project\conductor_playground\algiers"
ls -la uploads/abx/
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**: ูุฌุจ ุฃู ุชุธูุฑ ูููุงุช ABX ููุฌูุฏุฉ

#### ุงูุฎุทูุฉ 2: ุงุฎุชุจุงุฑ ูุฑุงุกุฉ ููู ABX

ุฃูุดุฆ ููู ุงุฎุชุจุงุฑ `test-abx-parser.ts`:

```typescript
import { parseABXFile } from '@/lib/abx-parser-improved';
import { readFile } from 'fs/promises';

async function testParser() {
  try {
    // ูุฑุงุกุฉ ููู ABX
    const content = await readFile('uploads/abx/1768105414039_17789.abx', 'utf-8');

    // ุชุญููู ุงูููู
    console.log('๐ ุจุฏุก ุชุญููู ุงูููู...');
    const result = parseABXFile(content);

    // ุนุฑุถ ุงููุชุงุฆุฌ
    console.log('\nโ ุงููุชุงุฆุฌ:');
    console.log('- ุงุณู ุงููุชุงุจ:', result.metadata.bookName);
    console.log('- ุงููุคูู:', result.metadata.author);
    console.log('- ุนุฏุฏ ุงูุตูุญุงุช:', result.pages.length);
    console.log('- ุนุฏุฏ ุงููุตูู:', result.chapters.length);

    // ุนุฑุถ ุฃูู ูุตู
    if (result.chapters.length > 0) {
      console.log('\n๐ ุฃูู ูุตู:');
      console.log('- ุงูุนููุงู:', result.chapters[0].title);
      console.log('- ุฑูู ุงูุตูุญุฉ:', result.chapters[0].startPage);
      console.log('- ุนุฏุฏ ุงูุตูุญุงุช:', result.chapters[0].pages.length);
    }

    return result;
  } catch (error) {
    console.error('โ ุฎุทุฃ:', error);
  }
}

testParser();
```

**ุชุดุบูู ุงูุงุฎุชุจุงุฑ**:

```bash
npx tsx test-abx-parser.ts
```

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
```
๐ ุจุฏุก ุชุญููู ุงูููู...
โ ุชู ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุงููุตููุฉ: ููุณูุนุฉ ุงููููุฉ
โ ุชู ุงูุนุซูุฑ ุนูู X ุตูุญุฉ
๐ ูุตู ุฌุฏูุฏ: ูููุฉ ุงููุงุดุฑ (ุตูุญุฉ 7)
โ ุชู ุฅูุดุงุก X ูุตู
โ ุงูุชูู ุชุญููู ููู ABX ุจูุฌุงุญ

โ ุงููุชุงุฆุฌ:
- ุงุณู ุงููุชุงุจ: ููุณูุนุฉ ุงููููุฉ
- ุงููุคูู: ุงูุณูุฏ ุญุณู ุงูุญุณููู ุงูุดูุฑุงุฒู
- ุนุฏุฏ ุงูุตูุญุงุช: 207
- ุนุฏุฏ ุงููุตูู: X
```

---

### โ ุงููุฑุญูุฉ 2: ุงุฎุชุจุงุฑ ุงูุฑูุน

#### ุงูุฎุทูุฉ 1: ุชุดุบูู ุงูุณูุฑูุฑ

```bash
npm run dev
```

#### ุงูุฎุทูุฉ 2: ูุชุญ ุตูุญุฉ ุงูุงุฎุชุจุงุฑ

ุงูุชุญ ุงููุชุตูุญ ูุงูุชูู ุฅูู:
```
http://localhost:3000/admin/upload-abx
```

ุฃู ุงุณุชุฎุฏู ูููู ABXUploader ูู ุฃู ุตูุญุฉ.

#### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงูุณุญุจ ูุงูุฅููุงุช

1. ุงูุชุญ ุงููุฌูุฏ `uploads/abx/`
2. ุงุณุญุจ ููู `1768105414039_17789.abx`
3. ุฃููุชู ูู ููุทูุฉ ุงูุฑูุน

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- โ ุชุธูุฑ ูุนุงููุฉ ุงูููู
- โ ูุธูุฑ ุงุณู ุงูููู ูุญุฌูู
- โ ูุธูุฑ ุฒุฑ "ุฑูุน ุงููุชุงุจ"

#### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุงูุฑูุน

1. ุงุถุบุท ุฒุฑ "ุฑูุน ุงููุชุงุจ"
2. ุฑุงูุจ ุดุฑูุท ุงูุชูุฏู

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
```
ุฌุงุฑู ุฑูุน ุงูููู... โโโโโโโโโโ 50%
ุฌุงุฑู ูุนุงูุฌุฉ ุงููุชุงุจ... โโโโโโโโโโ 80%
ุชู ุฑูุน ุงููุชุงุจ ุจูุฌุงุญ! โโโโโโโโโโ 100%
```

#### ุงูุฎุทูุฉ 5: ุงูุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```bash
npx prisma studio
```

ุชุญูู ูู:
- โ ูุฌูุฏ ุงููุชุงุจ ูู ุฌุฏูู `Book`
- โ ูุฌูุฏ ุงููุตูู ูู ุฌุฏูู `Chapter`
- โ ูุฌูุฏ ุงูุฃูุณุงู ูู ุฌุฏูู `Section`

---

### โ ุงููุฑุญูุฉ 3: ุงุฎุชุจุงุฑ ุตูุญุฉ ุงููุฑุงุกุฉ

#### ุงูุฎุทูุฉ 1: ูุชุญ ุงููุชุงุจ

ุจุนุฏ ุงูุฑูุน ุงููุงุฌุญุ ุณูุชู ุชูุฌููู ุชููุงุฆูุงู ูุตูุญุฉ ุงููุชุงุจ:
```
http://localhost:3000/books/{book-id}
```

#### ุงูุฎุทูุฉ 2: ูุญุต ุงูุนูุงุตุฑ

ุชุญูู ูู ูุฌูุฏ:

**1. ุงูุฑุฃุณ (Header)**:
- โ ุงุณู ุงููุชุงุจ
- โ ุงุณู ุงููุคูู
- โ ุดุฑูุท ุงูุจุญุซ
- โ ุฒุฑ ุงูุฅุนุฏุงุฏุงุช

**2. ุงูููุฑุณุช (Sidebar)**:
- โ ุนููุงู "ุงูููุฑุณุช"
- โ ูุงุฆูุฉ ุงููุตูู
- โ ุชูููุฒ ุงููุตู ุงูุญุงูู
- โ ุฃุฑูุงู ุงูุตูุญุงุช

**3. ุงููุญุชูู (Content)**:
- โ ุนููุงู ุงููุตู
- โ ุฑูู ุงูุตูุญุฉ
- โ ุงููุต ุงูุฑุฆูุณู
- โ ุชูููุฒ ุงูุนุจุงุฑุงุช ุงูุฅุณูุงููุฉ (ุจุงูููู ุงูุฃุฎุถุฑ)

**4. ุงูุชุฐููู (Footer)**:
- โ ุนุฏุงุฏ ุงูุตูุญุงุช
- โ ุฃุฒุฑุงุฑ ุงูุชููู (ุงูุณุงุจู/ุงูุชุงูู)
- โ ุฃุฒุฑุงุฑ ุญุฌู ุงูุฎุท

#### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงูุชููู

**ุจุงุณุชุฎุฏุงู ุงูููุฑุณุช**:
1. ุงุถุบุท ุนูู ุฃู ุนููุงู ูู ุงูููุฑุณุช
2. ุชุญูู ูู ุงูุงูุชูุงู ุงูุณูุณ
3. ุชุญูู ูู ุชูููุฒ ุงูุนููุงู ุงูุญุงูู

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- โ ุงูุชูุงู ุณูุณ ุจุฏูู ุชูุทูุน
- โ ุชุญุฏูุซ ุนุฏุงุฏ ุงูุตูุญุงุช
- โ ุชูููุฒ ุงูุนููุงู ูู ุงูููุฑุณุช

**ุจุงุณุชุฎุฏุงู ุงูุฃุฒุฑุงุฑ**:
1. ุงุถุบุท ุฒุฑ "ุงูุชุงูู" โ
2. ุงุถุบุท ุฒุฑ "ุงูุณุงุจู" โ

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- โ ุงูุงูุชูุงู ููุตูุญุฉ ุงูุชุงููุฉ/ุงูุณุงุจูุฉ
- โ ุชุนุทูู ุงูุฒุฑ ูู ุฃูู/ุขุฎุฑ ุตูุญุฉ

#### ุงูุฎุทูุฉ 4: ุงุฎุชุจุงุฑ ุญุฌู ุงูุฎุท

1. ุงุถุบุท "ุฃ+" ุนุฏุฉ ูุฑุงุช
2. ุงุถุบุท "ุฃ-" ุนุฏุฉ ูุฑุงุช

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- โ ุชูุจูุฑ/ุชุตุบูุฑ ุงูุฎุท
- โ ุงูุญุฏ ุงูุฃุฏูู: 14px
- โ ุงูุญุฏ ุงูุฃูุตู: 28px

#### ุงูุฎุทูุฉ 5: ุงุฎุชุจุงุฑ ุชูููุฒ ุงูุนุจุงุฑุงุช ุงูุฅุณูุงููุฉ

ุงุจุญุซ ูู ุงูุตูุญุฉ ุนู:
- "ุตูู ุงููู ุนููู ูุขูู ูุณูู"
- "ุนููู ุงูุณูุงู"
- "ูุฏุณ ุณุฑู"

**ุงููุชูุฌุฉ ุงููุชููุนุฉ**:
- โ ุงูุนุจุงุฑุงุช ููููุฉ ุจุงูููู ุงูุฃุฎุถุฑ
- โ ุงูุฎุท ุณููู (bold)

---

## ๐ ุงุฎุชุจุงุฑุงุช ูุชูุฏูุฉ

### ุงุฎุชุจุงุฑ 1: ููู ABX ูุจูุฑ

```bash
# ุงุณุชุฎุฏู ููู ุฃูุจุฑ ูู 10MB
```

**ุงููุชููุน**: ูุนุงูุฌุฉ ุณุฑูุนุฉ ุจุฏูู ุฃุฎุทุงุก

### ุงุฎุชุจุงุฑ 2: ููู ABX ุจุฏูู ูุตูู

**ุงููุชููุน**: ุฅูุดุงุก ูุตู ูุงุญุฏ ุจุงุณู ุงููุชุงุจ

### ุงุฎุชุจุงุฑ 3: ููู ABX ุจุชุฑููุฒ ุฎุงุทุฆ

**ุงููุชููุน**: ุฑุณุงูุฉ ุฎุทุฃ ูุงุถุญุฉ

---

## ๐ ุชูุฑูุฑ ุงูุงุฎุชุจุงุฑ

### ูุงูุจ ุงูุชูุฑูุฑ:

```markdown
# ุชูุฑูุฑ ุงุฎุชุจุงุฑ ABX

## ุงููุนูููุงุช
- ุงูุชุงุฑูุฎ: ___________
- ุงููุฎุชุจุฑ: ___________
- ุงูููู ุงููุณุชุฎุฏู: ___________

## ุงููุชุงุฆุฌ

### ุงููุญูู
- [ ] ูุฑุงุกุฉ ุงูููู
- [ ] ุงุณุชุฎุฑุงุฌ ุงูุจูุงูุงุช ุงููุตููุฉ
- [ ] ุงุณุชุฎุฑุงุฌ ุงูุตูุญุงุช
- [ ] ุงุณุชุฎุฑุงุฌ ุงููุตูู

### ุงูุฑูุน
- [ ] ุงูุณุญุจ ูุงูุฅููุงุช
- [ ] ูุนุงููุฉ ุงูููู
- [ ] ุฑูุน ุงูููู
- [ ] ูุนุงูุฌุฉ ุงููุชุงุจ

### ุตูุญุฉ ุงููุฑุงุกุฉ
- [ ] ุนุฑุถ ุงููุนูููุงุช
- [ ] ุงูููุฑุณุช
- [ ] ุงููุญุชูู
- [ ] ุงูุชููู
- [ ] ุชูููุฒ ุงูุนุจุงุฑุงุช

## ุงูููุงุญุธุงุช
___________________________________
___________________________________

## ุงูุชูููู ุงูุนุงู
โญโญโญโญโญ (   / 5)
```

---

## ๐ ูุดุงูู ุดุงุฆุนุฉ ูุญููููุง

### ุงููุดููุฉ 1: "Cannot read property 'bookName' of undefined"

**ุงูุญู**: ุชุญูู ูู:
- ุตุญุฉ ุชูุณูู XML
- ูุฌูุฏ tag `<ูููุฉ ุงููุชุงุจ>`
- ูุฌูุฏ tag `<ุงุณู ุงููุชุงุจ>`

### ุงููุดููุฉ 2: "No pages found"

**ุงูุญู**: ุชุญูู ูู:
- ูุฌูุฏ tags `<ุตูุญุฉ>` ู `<ููุญู>`
- ุชุฑุชูุจ ุงูุตูุญุงุช ุตุญูุญ
- ุงููุญุชูู ููุฌูุฏ ุฏุงุฎู `<ููุญู>`

### ุงููุดููุฉ 3: ุงูุนุจุงุฑุงุช ุงูุฅุณูุงููุฉ ุบูุฑ ูููุฒุฉ

**ุงูุญู**: ุชุญูู ูู:
- ุงูุนุจุงุฑุฉ ููุฌูุฏุฉ ูู `ISLAMIC_PHRASES`
- ูุง ุชูุฌุฏ ูุณุงูุงุช ุฅุถุงููุฉ
- ุงูุชุฑููุฒ ุตุญูุญ (UTF-8)

---

## โ ูุนุงููุฑ ุงููุฌุงุญ

ููู ููุนุชุจุฑ ุงูุงุฎุชุจุงุฑ ูุงุฌุญุงู:

1. **ุงููุญูู**:
   - โ ุงุณุชุฎุฑุงุฌ 100% ูู ุงูุจูุงูุงุช ุงููุตููุฉ
   - โ ุงุณุชุฎุฑุงุฌ 100% ูู ุงูุตูุญุงุช
   - โ ุจุฏูู ุฃุฎุทุงุก

2. **ุงูุฑูุน**:
   - โ ุณุญุจ ูุฅููุงุช ุณูุณ
   - โ ุฑูุน ูุงุฌุญ
   - โ ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

3. **ุงููุฑุงุกุฉ**:
   - โ ุนุฑุถ ุตุญูุญ 100%
   - โ ุชููู ุณูุณ
   - โ ุชูููุฒ ุงูุนุจุงุฑุงุช

---

## ๐ฏ ุงูุฎูุงุตุฉ

ุจุนุฏ ุฅููุงู ุฌููุน ุงูุงุฎุชุจุงุฑุงุช:
- ุฅุฐุง ูุฌุญุช ุฌููุน ุงูุงุฎุชุจุงุฑุงุช: โ ุงููุธุงู ุฌุงูุฒ ููุฅูุชุงุฌ
- ุฅุฐุง ูุดู ุงุฎุชุจุงุฑ ุฃู ุฃูุซุฑ: โ๏ธ ุฑุงุฌุน ุงููุณู ุงููุนูู

---

**ููุงุญุธุฉ**: ุงุญูุธ ุชูุฑูุฑ ุงูุงุฎุชุจุงุฑ ููู ููู ABX ุฌุฏูุฏ ุชุฎุชุจุฑู!
