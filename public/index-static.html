<!DOCTYPE html>
<html lang="ar" dir="rtl" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© - Ù…ÙƒØªØ¨Ø© Ø±Ù‚Ù…ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ">
    <meta name="theme-color" content="#f5f5f0">

    <title>Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© - Ù…ÙƒØªØ¨Ø© Ø±Ù‚Ù…ÙŠØ© Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ</title>

    <!-- Ø§Ù„Ø®Ø·ÙˆØ· -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Cairo:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Ø§Ù„Ø£Ù†Ù…Ø§Ø· -->
    <link rel="stylesheet" href="/css/themes.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/components.css">

    <!-- Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ù…ÙˆÙ‚Ø¹ -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ“š</text></svg>">
</head>
<body>
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ -->
    <header class="navbar">
        <div class="navbar-container">
            <a href="/index-static.html" class="navbar-brand">
                <span class="navbar-logo">ğŸ“š</span>
                <span>Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</span>
            </a>

            <nav class="navbar-nav">
                <a href="/index-static.html" class="nav-link active">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
            </nav>

            <div class="navbar-actions">
                <button class="theme-toggle" aria-label="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø«ÙŠÙ…" id="theme-toggle">
                    <span class="theme-toggle-sun">â˜€ï¸</span>
                    <span class="theme-toggle-moon">ğŸŒ™</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
    <main>
        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¨Ø·Ù„ -->
        <section class="hero">
            <div class="hero-bg islamic-pattern"></div>
            <div class="container">
                <div class="hero-content">
                    <h1 class="hero-title">
                        Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©
                        <span class="hero-title-accent">Ø§Ù„Ø°ÙƒÙŠØ©</span>
                    </h1>
                    <p class="hero-subtitle">
                        Ø§ÙƒØªØ´Ù ÙƒÙ†ÙˆØ² Ø§Ù„Ù…Ø¹Ø±ÙØ© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ© Ù…Ù† ÙƒØªØ¨ Ø£Ù‡Ù„ Ø§Ù„Ø¨ÙŠØª Ø¹Ù„ÙŠÙ‡Ù… Ø§Ù„Ø³Ù„Ø§Ù…
                        <br>
                        Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„Ù„ØªÙ„Ø®ÙŠØµ ÙˆØ§Ù„Ø´Ø±Ø­ ÙˆØ§Ù„Ø¨Ø­Ø« Ø§Ù„Ø°ÙƒÙŠ
                    </p>

                    <div class="hero-stats" id="hero-stats">
                        <div class="hero-stat">
                            <span class="hero-stat-number" id="books-count">0</span>
                            <span class="hero-stat-label">ÙƒØªØ§Ø¨</span>
                        </div>
                        <div class="hero-stat">
                            <span class="hero-stat-number">50+</span>
                            <span class="hero-stat-label">Ù…Ø¤Ù„Ù</span>
                        </div>
                        <div class="hero-stat">
                            <span class="hero-stat-number" id="categories-count">0</span>
                            <span class="hero-stat-label">ØªØµÙ†ÙŠÙØ§Øª</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª -->
        <section class="categories-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">ØªØµÙØ­ Ø­Ø³Ø¨ Ø§Ù„ØªØµÙ†ÙŠÙ</h2>
                    <p class="section-subtitle">Ø§Ø®ØªØ± Ø§Ù„ØªØµÙ†ÙŠÙ Ø§Ù„Ø°ÙŠ ÙŠÙ†Ø§Ø³Ø¨ Ø§Ù‡ØªÙ…Ø§Ù…Ø§ØªÙƒ</p>
                </div>

                <div class="categories-grid grid-auto" id="categories-grid">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø© -->
        <section class="featured-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Ø§Ù„ÙƒØªØ¨ Ø§Ù„Ù…Ù…ÙŠØ²Ø©</h2>
                    <p class="section-subtitle">Ø£Ù‡Ù… Ø§Ù„Ù…ØµØ§Ø¯Ø± ÙÙŠ Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</p>
                </div>

                <div class="featured-books grid-auto" id="featured-books">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ù…ÙŠØ²Ø§Øª -->
        <section class="features-section">
            <div class="container">
                <div class="section-header">
                    <h2 class="section-title">Ù…Ù…ÙŠØ²Ø§Øª Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø°ÙƒÙŠØ©</h2>
                    <p class="section-subtitle">ØªÙ‚Ù†ÙŠØ§Øª Ø­Ø¯ÙŠØ«Ø© Ø¨Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„ØªØ¬Ø±Ø¨Ø© Ù‚Ø±Ø§Ø¡Ø© ÙØ±ÙŠØ¯Ø©</p>
                </div>

                <div class="features-grid grid-3">
                    <div class="feature-card feature-card-highlight">
                        <div class="feature-icon">ğŸ”</div>
                        <h3 class="feature-title">Ø£ÙŠÙ† ÙˆØ±Ø¯ Ø§Ù„Ù†ØµØŸ</h3>
                        <p class="feature-desc">Ù…Ø­Ø±Ùƒ Ø¨Ø­Ø« Ù…ØªÙ‚Ø¯Ù… Ù„Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù„Ù†ØµÙˆØµ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø§Ù„ÙƒØªØ¨ Ø¨Ø³Ù‡ÙˆÙ„Ø©</p>
                        <span class="feature-badge">Ø¬Ø¯ÙŠØ¯</span>
                    </div>

                    <div class="feature-card feature-card-highlight">
                        <div class="feature-icon">ğŸ“–</div>
                        <h3 class="feature-title">Ø¬Ù„Ø¨ Ø§Ù„Ù†Øµ Ø§Ù„Ø°ÙƒÙŠ</h3>
                        <p class="feature-desc">Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ø°ÙƒÙŠ Ø¹Ù† Ù†ØµÙˆØµ Ù…Ø´Ø§Ø¨Ù‡Ø© ÙˆØ°Ø§Øª ØµÙ„Ø© Ø¨ÙƒÙ„Ù…Ø§Øª Ø¨Ø³ÙŠØ·Ø©</p>
                        <span class="feature-badge">Ø¬Ø¯ÙŠØ¯</span>
                    </div>

                    <div class="feature-card feature-card-highlight">
                        <div class="feature-icon">ğŸ¤–</div>
                        <h3 class="feature-title">Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø© Ø§Ù„Ø°ÙƒÙŠØ©</h3>
                        <p class="feature-desc">Ù…Ø³Ø§Ø¹Ø¯ Ø°ÙƒÙŠ ÙŠØ¬ÙŠØ¨ Ø¹Ù„Ù‰ Ø£Ø³Ø¦Ù„ØªÙƒ Ø­ÙˆÙ„ Ø§Ù„Ù†ØµÙˆØµ Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</p>
                        <span class="feature-badge">Ø¬Ø¯ÙŠØ¯</span>
                    </div>

                    <div class="feature-card feature-card-highlight">
                        <div class="feature-icon">ğŸ“</div>
                        <h3 class="feature-title">Ù…Ø­Ø±Ø± Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ±</h3>
                        <p class="feature-desc">Ù…Ø­Ø±Ø± Ù…ØªÙ‚Ø¯Ù… Ù„ÙƒØªØ§Ø¨Ø© Ø§Ù„ØªÙ‚Ø§Ø±ÙŠØ± ÙˆØ§Ù„Ø¯Ø±Ø§Ø³Ø§Øª Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ£Ø¯ÙˆØ§Øª ØªÙ†Ø³ÙŠÙ‚ ÙƒØ§Ù…Ù„Ø©</p>
                        <span class="feature-badge">Ø¬Ø¯ÙŠØ¯</span>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸŒ“</div>
                        <h3 class="feature-title">ÙˆØ¶Ø¹ Ù„ÙŠÙ„ÙŠ</h3>
                        <p class="feature-desc">Ø§Ù‚Ø±Ø£ Ø¨Ø±Ø§Ø­Ø© ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª Ù…Ø¹ Ø¯Ø¹Ù… Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„Ø¯Ø§ÙƒÙ†</p>
                    </div>

                    <div class="feature-card">
                        <div class="feature-icon">ğŸ”–</div>
                        <h3 class="feature-title">Ø¹Ù„Ø§Ù…Ø§Øª Ù…Ø±Ø¬Ø¹ÙŠØ©</h3>
                        <p class="feature-desc">Ø§Ø­ÙØ¸ Ù…ÙƒØ§Ù†Ùƒ ÙˆØ¹Ø¯ Ø¥Ù„ÙŠÙ‡ ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Ù‚Ø³Ù… Ø§Ù„Ø¯Ø¹ÙˆØ© Ù„Ù„Ø¹Ù…Ù„ -->
        <section class="cta-section">
            <div class="container">
                <div class="cta-content">
                    <h2 class="cta-title">Ø§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ ÙÙŠ Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù…</h2>
                    <p class="cta-text">
                        "Ø·Ù„Ø¨ Ø§Ù„Ø¹Ù„Ù… ÙØ±ÙŠØ¶Ø© Ø¹Ù„Ù‰ ÙƒÙ„ Ù…Ø³Ù„Ù… ÙˆÙ…Ø³Ù„Ù…Ø©"
                        <br>
                        <span class="cta-attribution">- Ø±Ø³ÙˆÙ„ Ø§Ù„Ù„Ù‡ ØµÙ„Ù‰ Ø§Ù„Ù„Ù‡ Ø¹Ù„ÙŠÙ‡ ÙˆØ¢Ù„Ù‡</span>
                    </p>
                </div>
            </div>
        </section>
    </main>

    <!-- Ø§Ù„ÙÙˆØªØ± -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-brand">
                    <div class="footer-logo">
                        <span>ğŸ“š</span>
                        <span>Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</span>
                    </div>
                    <p class="footer-desc">
                        Ù…ÙƒØªØ¨Ø© Ø±Ù‚Ù…ÙŠØ© Ø´Ø§Ù…Ù„Ø© Ù„ÙƒØªØ¨ Ø£Ù‡Ù„ Ø§Ù„Ø¨ÙŠØª Ø¹Ù„ÙŠÙ‡Ù… Ø§Ù„Ø³Ù„Ø§Ù…ØŒ Ù…Ø¯Ø¹ÙˆÙ…Ø© Ø¨ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù„ØªØ³Ù‡ÙŠÙ„ Ø§Ù„Ø¨Ø­Ø« ÙˆØ§Ù„Ù‚Ø±Ø§Ø¡Ø©.
                    </p>
                </div>

                <div class="footer-links-group">
                    <h4 class="footer-title">Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª</h4>
                    <ul class="footer-links" id="footer-categories">
                        <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© JavaScript -->
                    </ul>
                </div>

                <div class="footer-links-group">
                    <h4 class="footer-title">Ø±ÙˆØ§Ø¨Ø· Ø³Ø±ÙŠØ¹Ø©</h4>
                    <ul class="footer-links">
                        <li><a href="/index-static.html" class="footer-link">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a></li>
                        <li><a href="/secret-admin-panel-xyz" class="footer-link">Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</a></li>
                    </ul>
                </div>
            </div>

            <div class="footer-bottom">
                <p>Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø© Â© 2024 Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø¥Ø³Ù„Ø§Ù…ÙŠØ©</p>
            </div>
        </div>
    </footer>

    <script>
        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
        async function loadCategories() {
            try {
                const response = await fetch('/api/categories');
                const categories = await response.json();

                // Ø¹Ø±Ø¶ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª
                const gridHTML = categories.map(cat => `
                    <div class="category-card">
                        <div class="category-icon">${cat.icon || 'ğŸ“š'}</div>
                        <h3 class="category-name">${cat.arabicName}</h3>
                        <p class="category-count">${cat._count?.books || 0} ÙƒØªØ§Ø¨</p>
                    </div>
                `).join('');

                document.getElementById('categories-grid').innerHTML = gridHTML;
                document.getElementById('categories-count').textContent = categories.length;

                // Ø¥Ø¶Ø§ÙØ© Ù„Ù„ÙÙˆØªØ±
                const footerHTML = categories.slice(0, 4).map(cat => `
                    <li><a href="#" class="footer-link">${cat.arabicName}</a></li>
                `).join('');
                document.getElementById('footer-categories').innerHTML = footerHTML;

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª:', error);
            }
        }

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ¨
        async function loadBooks() {
            try {
                const response = await fetch('/api/books');
                const books = await response.json();

                // Ø¹Ø±Ø¶ Ø£ÙˆÙ„ 6 ÙƒØªØ¨
                const featuredBooks = books.slice(0, 6);
                const booksHTML = featuredBooks.map(book => `
                    <a href="/book.html?id=${book.id}" class="book-card">
                        <div class="book-card-cover">
                            <img src="${book.coverImage || '/placeholder-book.jpg'}"
                                 alt="${book.title}"
                                 onerror="this.src='/placeholder-book.jpg'">
                        </div>
                        <div class="book-card-content">
                            <span class="book-card-category">
                                ${book.category?.arabicName || 'ØºÙŠØ± Ù…ØµÙ†Ù'}
                            </span>
                            <h3 class="book-card-title">${book.title}</h3>
                            <p class="book-card-author">${book.author}</p>
                        </div>
                    </a>
                `).join('');

                document.getElementById('featured-books').innerHTML = booksHTML;
                document.getElementById('books-count').textContent = books.length;

            } catch (error) {
                console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ÙƒØªØ¨:', error);
                document.getElementById('featured-books').innerHTML = `
                    <div class="empty-state">
                        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ ÙƒØªØ¨ Ù…ØªØ§Ø­Ø© Ø­Ø§Ù„ÙŠØ§Ù‹</p>
                    </div>
                `;
            }
        }

        // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø«ÙŠÙ…
        document.getElementById('theme-toggle').addEventListener('click', function() {
            const html = document.documentElement;
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
        });

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„Ù…Ø­ÙÙˆØ¸
        const savedTheme = localStorage.getItem('theme') || 'light';
        document.documentElement.setAttribute('data-theme', savedTheme);

        // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
        loadCategories();
        loadBooks();
    </script>

    <!-- Ø£Ù†Ù…Ø§Ø· Ø¥Ø¶Ø§ÙÙŠØ© Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <style>
        .hero {
            position: relative;
            padding: 120px 0 80px;
            background: var(--bg-secondary);
            overflow: hidden;
        }

        .hero-bg {
            position: absolute;
            inset: 0;
            opacity: 0.5;
        }

        .hero-content {
            position: relative;
            text-align: center;
            max-width: 800px;
            margin: 0 auto;
        }

        .hero-title {
            font-size: clamp(2rem, 5vw, 3.5rem);
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: var(--spacing-md);
            line-height: 1.2;
        }

        .hero-title-accent {
            color: var(--accent-primary);
            display: block;
        }

        .hero-subtitle {
            font-size: var(--font-size-lg);
            color: var(--text-secondary);
            margin-bottom: var(--spacing-xl);
            line-height: 1.8;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: var(--spacing-2xl);
        }

        .hero-stat {
            text-align: center;
        }

        .hero-stat-number {
            display: block;
            font-size: var(--font-size-3xl);
            font-weight: 700;
            color: var(--accent-primary);
        }

        .hero-stat-label {
            font-size: var(--font-size-sm);
            color: var(--text-muted);
        }

        .categories-section {
            padding: var(--spacing-3xl) 0;
            background: var(--bg-primary);
        }

        .categories-grid {
            display: grid !important;
            grid-template-columns: repeat(4, 1fr) !important;
            gap: var(--spacing-lg) !important;
        }

        .featured-section {
            padding: var(--spacing-3xl) 0;
            background: var(--bg-secondary);
        }

        .features-section {
            padding: var(--spacing-3xl) 0;
            background: var(--bg-primary);
        }

        .features-grid {
            gap: var(--spacing-lg);
        }

        .cta-section {
            padding: var(--spacing-3xl) 0;
            background: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-dark) 100%);
            text-align: center;
        }

        .cta-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .cta-title {
            font-size: var(--font-size-3xl);
            color: white;
            margin-bottom: var(--spacing-lg);
        }

        .cta-text {
            font-family: var(--font-arabic);
            font-size: var(--font-size-xl);
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: var(--spacing-xl);
            line-height: 2;
        }

        .cta-attribution {
            display: block;
            font-size: var(--font-size-base);
            opacity: 0.8;
            margin-top: var(--spacing-sm);
        }

        @media (max-width: 992px) {
            .categories-grid {
                grid-template-columns: repeat(3, 1fr) !important;
            }
        }

        @media (max-width: 768px) {
            .hero {
                padding: 100px 0 60px;
            }

            .hero-stats {
                flex-wrap: wrap;
                gap: var(--spacing-lg);
            }

            .categories-grid {
                grid-template-columns: repeat(2, 1fr) !important;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</body>
</html>
